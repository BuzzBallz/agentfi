{
  "_format": "hh-sol-artifact-1",
  "contractName": "AgentFiPaymaster",
  "sourceName": "contracts/AgentFiPaymaster.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_entryPoint",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_agentPayments",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_maxDailyGasPerUser",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "gasCost",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "GasSponsored",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "PaymasterDeposit",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "agentPayments",
      "outputs": [
        {
          "internalType": "contract IADIAgentPayments",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "dailyGasUsed",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "depositToEntryPoint",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "entryPoint",
      "outputs": [
        {
          "internalType": "contract IEntryPoint",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getEntryPointBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getStats",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "_totalSponsored",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_totalGasSponsored",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "entryPointBalance",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "lastGasResetDay",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "maxDailyGasPerUser",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "enum IPaymaster.PostOpMode",
          "name": "",
          "type": "uint8"
        },
        {
          "internalType": "bytes",
          "name": "context",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "actualGasCost",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "postOp",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_max",
          "type": "uint256"
        }
      ],
      "name": "setMaxDailyGas",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalGasSponsored",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalSponsored",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "sender",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "bytes",
              "name": "initCode",
              "type": "bytes"
            },
            {
              "internalType": "bytes",
              "name": "callData",
              "type": "bytes"
            },
            {
              "internalType": "bytes32",
              "name": "accountGasLimits",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "preVerificationGas",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "gasFees",
              "type": "bytes32"
            },
            {
              "internalType": "bytes",
              "name": "paymasterAndData",
              "type": "bytes"
            },
            {
              "internalType": "bytes",
              "name": "signature",
              "type": "bytes"
            }
          ],
          "internalType": "struct PackedUserOperation",
          "name": "userOp",
          "type": "tuple"
        },
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "maxCost",
          "type": "uint256"
        }
      ],
      "name": "validatePaymasterUserOp",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "context",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "validationData",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "withdrawFromEntryPoint",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "bytecode": "0x60c060405234801561001057600080fd5b50604051610eae380380610eae83398101604081905261002f91610078565b600080546001600160a01b031916331790556001600160a01b03928316608052911660a0526003556100b4565b80516001600160a01b038116811461007357600080fd5b919050565b60008060006060848603121561008d57600080fd5b6100968461005c565b92506100a46020850161005c565b9150604084015190509250925092565b60805160a051610d9d6101116000396000818161026301526105df01526000818161022f0152818161033c015281816103fc015281816104a20152818161056601528181610893015281816108ff0152610a530152610d9d6000f3fe6080604052600436106100ec5760003560e01c80638da5cb5b1161008a578063c59d484711610059578063c59d4847146102b2578063e0f6dfca146102e2578063e239f3f9146102f8578063eb0ebfbc1461030e57600080fd5b80638da5cb5b146101e5578063b0d691fe1461021d578063b187ca3f14610251578063b30889691461028557600080fd5b806352b7512c116100c657806352b7512c1461014a5780636a2927d3146101785780636b1a9999146101a55780637c627b21146101c557600080fd5b8063183ebd24146100f85780631b3ba10114610120578063342b4f251461012a57600080fd5b366100f357005b600080fd5b34801561010457600080fd5b5061010d610324565b6040519081526020015b60405180910390f35b6101286103b4565b005b34801561013657600080fd5b50610128610145366004610ac9565b610528565b34801561015657600080fd5b5061016a610165366004610ae2565b610557565b604051610117929190610b36565b34801561018457600080fd5b5061010d610193366004610ba3565b60016020526000908152604090205481565b3480156101b157600080fd5b506101286101c0366004610ac9565b610840565b3480156101d157600080fd5b506101286101e0366004610bc7565b6108f4565b3480156101f157600080fd5b50600054610205906001600160a01b031681565b6040516001600160a01b039091168152602001610117565b34801561022957600080fd5b506102057f000000000000000000000000000000000000000000000000000000000000000081565b34801561025d57600080fd5b506102057f000000000000000000000000000000000000000000000000000000000000000081565b34801561029157600080fd5b5061010d6102a0366004610ba3565b60026020526000908152604090205481565b3480156102be57600080fd5b506102c7610a24565b60408051938452602084019290925290820152606001610117565b3480156102ee57600080fd5b5061010d60055481565b34801561030457600080fd5b5061010d60035481565b34801561031a57600080fd5b5061010d60045481565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa15801561038b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103af9190610c5f565b905090565b6000546001600160a01b031633146103e75760405162461bcd60e51b81526004016103de90610c78565b60405180910390fd5b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b15801561044957600080fd5b505af115801561045d573d6000803e3d6000fd5b50506040516370a0823160e01b81523060048201527f2b210b2b0508d1cc62e8a4ae5e34d1bce45577f9680b60c97f779e89138cf0d293503492506001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001691506370a0823190602401602060405180830381865afa1580156104ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061050e9190610c5f565b6040805192835260208301919091520160405180910390a1565b6000546001600160a01b031633146105525760405162461bcd60e51b81526004016103de90610c78565b600355565b60606000336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146105d35760405162461bcd60e51b815260206004820181905260248201527f4167656e7446695061796d61737465723a206e6f7420456e747279506f696e7460448201526064016103de565b60006001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001663a5410a666106116020890189610ba3565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa158015610655573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106799190610caf565b9050806106c45761068d6020870187610ba3565b604080516001600160a01b039092166020830152810185905260600160405160208183030381529060405260019250925050610838565b60006106d36201518042610ce7565b905080600260006106e760208b018b610ba3565b6001600160a01b03166001600160a01b0316815260200190815260200160002054101561076c57600060018161072060208b018b610ba3565b6001600160a01b031681526020808201929092526040016000908120929092558291600291610751908b018b610ba3565b6001600160a01b031681526020810191909152604001600020555b600354856001600061078160208c018c610ba3565b6001600160a01b03166001600160a01b03168152602001908152602001600020546107ac9190610d09565b11156107f7576107bf6020880188610ba3565b604080516001600160a01b03909216602083015281018690526060016040516020818303038152906040526001935093505050610838565b6108046020880188610ba3565b604080516001600160a01b039092166020830152810186905260600160405160208183030381529060405293506000925050505b935093915050565b6000546001600160a01b0316331461086a5760405162461bcd60e51b81526004016103de90610c78565b60005460405163040b850f60e31b81526001600160a01b039182166004820152602481018390527f00000000000000000000000000000000000000000000000000000000000000009091169063205c287890604401600060405180830381600087803b1580156108d957600080fd5b505af11580156108ed573d6000803e3d6000fd5b5050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461096c5760405162461bcd60e51b815260206004820181905260248201527f4167656e7446695061796d61737465723a206e6f7420456e747279506f696e7460448201526064016103de565b600061097a84860186610d22565b506001600160a01b0381166000908152600160205260408120805492935085929091906109a8908490610d09565b9091555050600480549060006109bd83610d4e565b919050555082600560008282546109d49190610d09565b9091555050604080518481524260208201526001600160a01b038316917fb3d8da13e2eec10930982ae94cc39cd56a1e686b864a50f632765647bdfe622b910160405180910390a2505050505050565b600480546005546040516370a0823160e01b815230938101939093526000928392839290916001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906370a0823190602401602060405180830381865afa158015610a9a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610abe9190610c5f565b925092509250909192565b600060208284031215610adb57600080fd5b5035919050565b600080600060608486031215610af757600080fd5b833567ffffffffffffffff811115610b0e57600080fd5b84016101208187031215610b2157600080fd5b95602085013595506040909401359392505050565b604081526000835180604084015260005b81811015610b645760208187018101516060868401015201610b47565b506000606082850101526060601f19601f8301168401019150508260208301529392505050565b6001600160a01b0381168114610ba057600080fd5b50565b600060208284031215610bb557600080fd5b8135610bc081610b8b565b9392505050565b600080600080600060808688031215610bdf57600080fd5b853560038110610bee57600080fd5b9450602086013567ffffffffffffffff80821115610c0b57600080fd5b818801915088601f830112610c1f57600080fd5b813581811115610c2e57600080fd5b896020828501011115610c4057600080fd5b9699602092909201985095966040810135965060600135945092505050565b600060208284031215610c7157600080fd5b5051919050565b6020808252601b908201527f4167656e7446695061796d61737465723a206e6f74206f776e65720000000000604082015260600190565b600060208284031215610cc157600080fd5b81518015158114610bc057600080fd5b634e487b7160e01b600052601160045260246000fd5b600082610d0457634e487b7160e01b600052601260045260246000fd5b500490565b80820180821115610d1c57610d1c610cd1565b92915050565b60008060408385031215610d3557600080fd5b8235610d4081610b8b565b946020939093013593505050565b600060018201610d6057610d60610cd1565b506001019056fea26469706673582212201213d4fbdf1a890291be7c768f1791f6b8214d7c2f040c97e9dc72de9f51625e64736f6c63430008180033",
  "deployedBytecode": "0x6080604052600436106100ec5760003560e01c80638da5cb5b1161008a578063c59d484711610059578063c59d4847146102b2578063e0f6dfca146102e2578063e239f3f9146102f8578063eb0ebfbc1461030e57600080fd5b80638da5cb5b146101e5578063b0d691fe1461021d578063b187ca3f14610251578063b30889691461028557600080fd5b806352b7512c116100c657806352b7512c1461014a5780636a2927d3146101785780636b1a9999146101a55780637c627b21146101c557600080fd5b8063183ebd24146100f85780631b3ba10114610120578063342b4f251461012a57600080fd5b366100f357005b600080fd5b34801561010457600080fd5b5061010d610324565b6040519081526020015b60405180910390f35b6101286103b4565b005b34801561013657600080fd5b50610128610145366004610ac9565b610528565b34801561015657600080fd5b5061016a610165366004610ae2565b610557565b604051610117929190610b36565b34801561018457600080fd5b5061010d610193366004610ba3565b60016020526000908152604090205481565b3480156101b157600080fd5b506101286101c0366004610ac9565b610840565b3480156101d157600080fd5b506101286101e0366004610bc7565b6108f4565b3480156101f157600080fd5b50600054610205906001600160a01b031681565b6040516001600160a01b039091168152602001610117565b34801561022957600080fd5b506102057f000000000000000000000000000000000000000000000000000000000000000081565b34801561025d57600080fd5b506102057f000000000000000000000000000000000000000000000000000000000000000081565b34801561029157600080fd5b5061010d6102a0366004610ba3565b60026020526000908152604090205481565b3480156102be57600080fd5b506102c7610a24565b60408051938452602084019290925290820152606001610117565b3480156102ee57600080fd5b5061010d60055481565b34801561030457600080fd5b5061010d60035481565b34801561031a57600080fd5b5061010d60045481565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa15801561038b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103af9190610c5f565b905090565b6000546001600160a01b031633146103e75760405162461bcd60e51b81526004016103de90610c78565b60405180910390fd5b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b15801561044957600080fd5b505af115801561045d573d6000803e3d6000fd5b50506040516370a0823160e01b81523060048201527f2b210b2b0508d1cc62e8a4ae5e34d1bce45577f9680b60c97f779e89138cf0d293503492506001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001691506370a0823190602401602060405180830381865afa1580156104ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061050e9190610c5f565b6040805192835260208301919091520160405180910390a1565b6000546001600160a01b031633146105525760405162461bcd60e51b81526004016103de90610c78565b600355565b60606000336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146105d35760405162461bcd60e51b815260206004820181905260248201527f4167656e7446695061796d61737465723a206e6f7420456e747279506f696e7460448201526064016103de565b60006001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001663a5410a666106116020890189610ba3565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa158015610655573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106799190610caf565b9050806106c45761068d6020870187610ba3565b604080516001600160a01b039092166020830152810185905260600160405160208183030381529060405260019250925050610838565b60006106d36201518042610ce7565b905080600260006106e760208b018b610ba3565b6001600160a01b03166001600160a01b0316815260200190815260200160002054101561076c57600060018161072060208b018b610ba3565b6001600160a01b031681526020808201929092526040016000908120929092558291600291610751908b018b610ba3565b6001600160a01b031681526020810191909152604001600020555b600354856001600061078160208c018c610ba3565b6001600160a01b03166001600160a01b03168152602001908152602001600020546107ac9190610d09565b11156107f7576107bf6020880188610ba3565b604080516001600160a01b03909216602083015281018690526060016040516020818303038152906040526001935093505050610838565b6108046020880188610ba3565b604080516001600160a01b039092166020830152810186905260600160405160208183030381529060405293506000925050505b935093915050565b6000546001600160a01b0316331461086a5760405162461bcd60e51b81526004016103de90610c78565b60005460405163040b850f60e31b81526001600160a01b039182166004820152602481018390527f00000000000000000000000000000000000000000000000000000000000000009091169063205c287890604401600060405180830381600087803b1580156108d957600080fd5b505af11580156108ed573d6000803e3d6000fd5b5050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461096c5760405162461bcd60e51b815260206004820181905260248201527f4167656e7446695061796d61737465723a206e6f7420456e747279506f696e7460448201526064016103de565b600061097a84860186610d22565b506001600160a01b0381166000908152600160205260408120805492935085929091906109a8908490610d09565b9091555050600480549060006109bd83610d4e565b919050555082600560008282546109d49190610d09565b9091555050604080518481524260208201526001600160a01b038316917fb3d8da13e2eec10930982ae94cc39cd56a1e686b864a50f632765647bdfe622b910160405180910390a2505050505050565b600480546005546040516370a0823160e01b815230938101939093526000928392839290916001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906370a0823190602401602060405180830381865afa158015610a9a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610abe9190610c5f565b925092509250909192565b600060208284031215610adb57600080fd5b5035919050565b600080600060608486031215610af757600080fd5b833567ffffffffffffffff811115610b0e57600080fd5b84016101208187031215610b2157600080fd5b95602085013595506040909401359392505050565b604081526000835180604084015260005b81811015610b645760208187018101516060868401015201610b47565b506000606082850101526060601f19601f8301168401019150508260208301529392505050565b6001600160a01b0381168114610ba057600080fd5b50565b600060208284031215610bb557600080fd5b8135610bc081610b8b565b9392505050565b600080600080600060808688031215610bdf57600080fd5b853560038110610bee57600080fd5b9450602086013567ffffffffffffffff80821115610c0b57600080fd5b818801915088601f830112610c1f57600080fd5b813581811115610c2e57600080fd5b896020828501011115610c4057600080fd5b9699602092909201985095966040810135965060600135945092505050565b600060208284031215610c7157600080fd5b5051919050565b6020808252601b908201527f4167656e7446695061796d61737465723a206e6f74206f776e65720000000000604082015260600190565b600060208284031215610cc157600080fd5b81518015158114610bc057600080fd5b634e487b7160e01b600052601160045260246000fd5b600082610d0457634e487b7160e01b600052601260045260246000fd5b500490565b80820180821115610d1c57610d1c610cd1565b92915050565b60008060408385031215610d3557600080fd5b8235610d4081610b8b565b946020939093013593505050565b600060018201610d6057610d60610cd1565b506001019056fea26469706673582212201213d4fbdf1a890291be7c768f1791f6b8214d7c2f040c97e9dc72de9f51625e64736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
